<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="/css/styles.css">
        <title>Vedi Annunci</title>
    </head>
<body>
    <header>
        <header>
            <%- include('menu') %>
        </header>        
    </header>
    
    <main>
        <h1>Tutti gli Annunci</h1>
        <form method="GET" action="/view">
            <label for="search">Cerca per nome:</label>
            <input type="text" id="search" name="search" placeholder="Nome società" value="<%= search %>">
            <label for="minPrice">Prezzo minimo:</label>
            <input type="number" id="minPrice" name="minPrice" placeholder="0" value="<%= minPrice %>">
            <label for="maxPrice">Prezzo massimo:</label>
            <input type="number" id="maxPrice" name="maxPrice" placeholder="0" value="<%= maxPrice %>">
            <button type="submit">Filtra</button>
        </form>
        <table>
            <thead>
                <tr>
                    <th>Società</th>
                    <th>Prezzo Acquisto</th>
                    <th>Valore Attuale</th>
                    <th>Prezzo Vendita</th>
                </tr>
            </thead>
            <tbody>
                <% if (announcements.length > 0) { %>
                    <% announcements.forEach(announcement => { %>
                        <tr>
                            <td><%= announcement.societa %></td>
                            <td><%= announcement.prezzoAcquisto %></td>
                            <td><%= announcement.valoreAttuale %></td>
                            <td><%= announcement.prezzoVendita %></td>
                        </tr>
                    <% }); %>
                <% } else { %>
                    <tr>
                        <td colspan="4">Nessun annuncio trovato.</td>
                    </tr>
                <% } %>
            </tbody>
        </table>
    </main>
    <footer>
        <p>&copy; 2025 Quotax. Tutti i diritti riservati.</p>
    </footer>
</body>
</html>
