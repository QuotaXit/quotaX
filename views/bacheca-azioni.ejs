<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/styles.css?v=1.0">
    <title>Bacheca Azioni</title>
</head>
<body>
    <header>
        <h1>quotaX Italia</h1>
        <!-- Pulsante Hamburger per Mobile -->
        <button id="menu-toggle" class="hamburger">☰</button>

        

<!-- Menu Desktop -->
<nav class="desktop-menu">
    <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/view">Bacheca quote</a></li>
        <% if (user) { %>
            <li><a href="/user-dashboard">Dashboard</a></li>
            <li><a href="/create">Crea Annuncio</a></li>
            <li><a href="/create-azioni">Crea Ann. Azioni</a></li>
            <li><a href="/logout">Logout</a></li>
        <% } else { %>
            <li><a href="/user-login">Accedi</a></li>
            <li><a href="/register">Registrati</a></li>
        <% } %>
        <li><a href="/bacheca-azioni">Bacheca Azioni</a></li>
        <li><a href="/crowdfunding">CrowdFunding</a></li>
    </ul>
</nav>

<!-- Menu Mobile -->
<nav id="menu" class="hidden">
    <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/view">Bacheca quote</a></li>
        <% if (user) { %>
            <li><a href="/user-dashboard">Dashboard</a></li>
            <li><a href="/create">Crea Annuncio</a></li>
            <li><a href="/create-azioni">Crea Ann. Azioni</a></li>
            <li><a href="/logout">Logout</a></li>
        <% } else { %>
            <li><a href="/user-login">Accedi</a></li>
            <li><a href="/register">Registrati</a></li>
        <% } %>
        <li><a href="/bacheca-azioni">Bacheca Azioni</a></li>
        <li><a href="/crowdfunding">CrowdFunding</a></li>
    </ul>
</nav>

    </header>

    <main>
        <h2>Bacheca Azioni</h2>
        <!-- Filtro -->
        <form method="GET" action="/bacheca-azioni">
            <label for="search">Cerca per nome:</label>
            <input type="text" id="search" name="search" placeholder="Nome società" value="<%= search %>">
            <label for="minPrice">Prezzo minimo:</label>
            <input type="number" id="minPrice" name="minPrice" placeholder="0" value="<%= minPrice %>">
            <label for="maxPrice">Prezzo massimo:</label>
            <input type="number" id="maxPrice" name="maxPrice" placeholder="0" value="<%= maxPrice %>">
            <button type="submit">Filtra</button>
        </form>
        <table class="table">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Email</th>
                    <th>Società</th>
                    <th>Numero Azioni</th>
                    <th>Data Acquisto</th>
                    <th>Valore Attuale</th>
                    <th>Prezzo Vendita</th>
                    <th>Società Quotata</th>
                </tr>
            </thead>
            <tbody>
                <% azioni.forEach(azione => { %>
                    <tr>
                        <td><%= azione.nome %></td>
                        <td><%= isAuthenticated ? azione.email : "Riservato" %></td>
                        <td><%= azione.societa %></td>
                        <td><%= azione.numeroAzioni %></td>
                        <td><%= azione.dataAcquisto %></td>
                        <td><%= azione.valoreAttuale %></td>
                        <td><%= azione.prezzoVendita %></td>
                        <td><%= azione.quotata %></td>
                    </tr>
                <% }) %>
            </tbody>
        </table>        
    </main> 
    
    <footer>
        <p>&copy; 2025 quotaX. Tutti i diritti sono riservati.</p>
        <p><a href="/privacy">Privacy</a>
        <a href="/come-funziona">Come Funziona</a>   
        <a href="/warnings">Avvertenze</a>
        <a href="/privacy-policy">Privacy & Policy</a>
        <script src="/js/menu.js"></script>
    </footer>
</body>
</html>
